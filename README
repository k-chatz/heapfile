R.N.: 1115201300202 – Konstantinos Chatzopoulos

Υποθέτω ότι σε ένα ρεαλιστικό σενάριο το αρχείο σωρού θα δέχεται και διαγραφές. Αν υπάρχει ελεύθερη θέση για τοποθέτηση
εγγραφής μπορεί να βρίσκεται κάπου ενδιάμεσα (τρύπες) ή στο τελευταίο μπλοκ, διαφορετικά θα πρέπει να γίνει δέσμευση
νέου μπλοκ. Σε κάθε περίπτωση κρίνω αναγκαίο να διατρέξω όλα τα blocks (από το πρώτο μπλοκ εγγραφών) έως ότου βρω κενή
θέση για τοποθέτηση της εγγραφής.

BONUS:
Οι παρακάτω μετρήσεις πραγματοποιήθηκαν με τα εξής δεδομένα: Record size: 60 bytes, Records: 1000, Block size: 512
bytes, Used Blocks: 125, BF_BUFFER_SIZE: 100 Δεν έγινε χρήση των συναρτήσεων TestFileScan(fd), HP_PrintAllEntries,
HP_GetEntry(fd, 1000, &record). Επίσης καθώς και με τα παρακάτω δεδομένα:


LRU:

% time     seconds  usecs/call     calls    errors syscall
------ ----------- ----------- --------- --------- ----------------
 49.51    0.050245           2     23280           read


Κάνοντας την παραδοχή ότι το buffer του επιπέδου block (BF) έχει χώρο έως 100 block ανοιχτά, καθώς γίνονται εισαγωγές,
σιγά σιγά γεμίζει το buffer, όταν γεμίσει, το BF για να μπορέσει να φέρει κάποιο επόμενο block από το δίσκο, θα
αντικαταστήσει το τελευταίο block που είχε χρησιμοποιήσει (Λιγότερο πρόσφατα χρησιμοποιημένο, μπλοκ 1/100) και θα το
κάνει αυτό έως ότου φτάσει πάλι στο μπλοκ 100/100 (τελευταίο) του buffer. Αυτό έχει ως αποτέλεσμα να γίνονται
περισσότερα reads λόγω της κυκλικής αντικατάστασης.

MRU:

% time     seconds  usecs/call     calls    errors syscall
------ ----------- ----------- --------- --------- ----------------
 47.53    0.006275           2      2801           read

Κάνοντας την παραδοχή ότι το buffer του επιπέδου block (BF) έχει χώρο έως 100 block ανοιχτά, καθώς γίνονται εισαγωγές,
σιγά σιγά γεμίζει το buffer, όταν γεμίσει, το BF για να μπορέσει να ανοίξει κάποιο επόμενο block από το δίσκο, θα
αντικαταστήσει το πρόσφατα χρησιμοποιημένο (100/100), έχοντας ως αποτέλεσμα να γίνονται λιγότερα reads επειδή τα 99
blocks υπάρχουν ήδη στον δίσκο. Παρατηρώ ότι συμφέρει περισσότερο να γίνει χρήση του BF με την πολιτική αντικατάστασης
MRU διότι τα reads είναι λιγοτερα συγκριτικά με αυτά της πολιτικής αντικατάστασης LRU.
